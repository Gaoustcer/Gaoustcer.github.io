---
layout:     post
title:      数据库系统与应用期末复习——数据库模式设计与数据库设计
subtitle:   数据库系统与应用期末复习——数据库模式设计与数据库设计&&关系数据模型&&SQL
date:       2021-06-30
author:     Haihan Gao
header-img: img/post-bg-swift2.jpg
catalog: true
tags:
    - Database
    - Course review
    - 2021 spring review
---
# 数据库系统与应用期末复习——数据库物理设计(索引)

## 顺序文件上的索引

记录按照查找键排序

### 密集索引

* 每个记录都有一个索引项
* 索引项按照查找键排序
* 区分索引文件与顺序文件，索引文件包含索引以及指向顺序文件的指针
* 缺点——索引占用太多空间

### 稀疏索引

* 仅仅部分记录有索引项
* 为每个数据块的第一个记录建立索引
* 回答存在性问题需要访问磁盘数据块

### 多级索引

多级稀疏索引

## 辅助索引

### 主索引

* 顺序文件上的索引
* 记录按照索引属性值有序
* 根据索引值可以直接确定记录的位置

### 辅助索引——必须是密集索引，无序

* 根据索引值不能确定记录在文件中的顺序
* 数据文件不需要按照查找键有序

### 辅助索引——处理重复键值

间接桶，相同的键值存放在相邻的地方

## B+树

### 基本结构

* 树行多级索引结构
* 通常为三层
* 所有节点格式为n个值，n+1个指针
* 所有叶子节点出于同一层

#### 叶子节点

* 一个指向相邻叶子结点的指针
* n对键-指针对
* 至少(n+1)/2指针**指向键值**——取下整

#### 中间节点

* n个键值划分n+1个子树
* 第i个键值是第i+1个子树中的最小键值
* 至少(n+1)/2个指针**指向子树**——取上整
* 根节点至少两个指针

### 查找

* 从根节点开始
* 沿着指针向下，直到叶子节点

### 插入

* 查找到叶子节点
* 存在空闲位置，则插入
* 没有空间，则分裂叶子节点
  * 递归向上分裂