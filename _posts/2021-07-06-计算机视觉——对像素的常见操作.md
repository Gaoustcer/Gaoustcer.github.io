---
layout:     post
title:      计算机视觉——对像素的常见操作
subtitle:   计算机视觉——对像素的常见操作
date:       2021-07-06
author:     Haihan Gao
header-img: img/post-bg-swift2.jpg
catalog: true
tags:
    - Computer Vision
    - Research
---
# 计算机视觉——对像素的常见操作

## Resize

将目标图像尺寸放大或缩小，最为简单的是最近邻差值算法，根据原图像和目标图像的尺寸，计算缩放的比例，根据缩放比例计算目标像素所依据的原像素

双线性差值，在两个方向分别进行一次线性插值

### 常用的插值算法

* 最近邻
* 双线性
* 双三次插值

### 最近邻插值

基本思想是根据原图中的四个点计算新图片中的一个点，直接找到原图像中的对应点的坐标，但是这个点可能不是整数，通过最近邻的点进行插值，将数值赋给新图像矩阵中的点，计算公式如下
$$src_x=des_x\times src_w/des_w\\src_y=des_y\times src_h/des_h$$
$src_x/des_x,src_y/des_y$为原图像/目标图像中像素点x的坐标，像素点y的坐标，$src_w/src_h$为原图像的宽度/高度

### 单线性插值

数值计算中，常常遇到这个问题，已知两点坐标分别为$(x_1,y_1),(x_2,y_2)$，现在给出一个点的横坐标x，求它的纵坐标y，根据高中数学，可以得到如下公式
$$y=\frac{x_2-x}{x_2-x_1}y_1+\frac{x-x_1}{x_2-x_1}y_2 等价于\\f(P)=\frac{x_2-x}{x_2-x_1}f(P_1)+\frac{x-x_1}{x_2-x_1}f(P_2) $$

### 双线性插值

假设一个二元函数$f(x,y)$，已知它在四个点上的取值$Q_{ij}=f(x_i,y_j)\ i=(1,2)\ j=(1,2)$，现在我们要求其在某一点$(x,y)$上的取值
$$f(R_1)=\frac{x_2-x}{x_2-x-1}f(Q_{11})+\frac{x-x-1}{x_2-x_1}f(Q_{21})\\f(R_2)=\frac{x_2-x}{x_2-x_1}f(Q_{12})+\frac{x-x_1}{x_2-x_1}f(Q_{22})\\f(P)=\frac{y_2-y}{y_2-y_1}f(R_1)+\frac{y-y_1}{y_2-y_1}f(R_2)\ \ f(P)=\sum_{i=1}^2\sum_{j=1}^2\omega_{ij}f(Q_{ij})$$
双线性插值首先需要找到图像中的四个点，根据这四个点的像素值求对应变换后的像素值，找四个点的方式和最近邻一样，双线性插值找四个点的流程可以以以下这个例子加以说明

原图像和目标图像的尺寸分别为$3\times 3,4\times 4$，这样目标图像中$(2,1)$按照最近邻算法得到的坐标为$(3/2,3/4)$，3/2与1，2最相近，3/4与0，1最相近。因此四个点坐标为$(1,0),(1,1),(2,0),(2,1)$

## Flip

翻转，又称为镜像变换，可以划分为水平镜像和垂直镜像

* 水平镜像——以图像垂直中轴线为对称轴进行对称变换
* 垂直镜像——以平行中轴线进行对称变换

## Rotate

图像旋转，以某一点为中心旋转一定的角度，形成一幅新的图像，性质是**旋转前和旋转后的点离中心点位置不变**